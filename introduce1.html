<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>시놉시스</title>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Gugi&display=swap');

        body {
            font-family: "Gugi", sans-serif;
            font-weight: 400;
            font-style: normal;


            overflow: hidden;
            background-image: url('bookback.png');
            background-repeat: no-repeat;
            background-size: cover;
            background-size: 110%;

            font-family: "Gugi", sans-serif;
            font-weight: 400;
            font-style: normal;
            font-size: 18px;
            color: rgb(83, 35, 16);

        }

        .synopsis-line {
            z-index: 1000;
            opacity: 0;
            display: block;
            /* 줄바꿈을 위해 block 유지 */
            width: 0;
            white-space: nowrap;
            overflow: hidden;
            animation: typing 5s forwards,
                text-fade-in 0.1s 8s forwards;
            text-align: center;
            position: absolute;

            left: 50%;
            transform: translate(-50%, -50%);

        }

        #line1 {
            top: 10%;
            animation-delay: 8s;
        }

        #line2 {
            top: 15%;
            animation-delay: 11s;
        }

        #line3 {
            top: 20%;
            animation-delay: 14s;
        }

        #line4 {
            top: 25%;
            animation-delay: 17s;
        }

        #line5 {
            top: 30%;
            animation-delay: 20s;
        }

        #line6 {
            top: 35%;
            animation-delay: 23s;
        }

        #line7 {
            top: 40%;
            animation-delay: 27s;
        }

        #line8 {
            top: 45%;
            animation-delay: 30s;
        }

        #line9 {
            top: 50%;
            animation-delay: 33s;
        }

        #line10 {
            top: 55%;
            animation-delay: 36s;
        }

        #line11 {
            top: 60%;
            animation-delay: 39s;
        }

        #line12 {
            top: 65%;
            animation-delay: 42s;
        }

        #line13 {
            top: 70%;
            animation-delay: 45s;
        }




        @keyframes text-fade-in {
            to {
                opacity: 1;
            }
        }

        /* 1. 글자 타이핑 애니메이션 정의 */
        @keyframes typing {
            from {
                width: 0
            }

            /* 텍스트가 다 나타날 때까지 너비를 100%로 늘립니다. */
            to {
                width: 100%;
            }
        }




        #book1 {
            height: 100%;
            top: 0%;
            left: 0%;
            position: absolute;
            opacity: 1;
            z-index: -1000;
            animation: book1 3s;
        }

        @keyframes book1 {
            0% {
                opacity: 0;

            }

            100% {
                opacity: 1;

            }
        }

        #book2 {
            height: 100%;
            top: 0%;
            left: 0%;
            position: absolute;
            opacity: 0;
            z-index: -1000;
            animation: book2 8s;
            animation-delay: 2s;

        }

        @keyframes book2 {
            0% {
                opacity: 0;

            }

            30% {
                opacity: 1;

            }
        }

        #book3 {
            height: 100%;
            top: 0%;
            left: 0%;
            position: absolute;
            opacity: 0;
            z-index: -1000;
            animation: book3 8s;
            animation-delay: 4s;
            animation-fill-mode: forwards;

        }

        @keyframes book3 {
            0% {
                opacity: 0;

            }

            30% {
                opacity: 1;

            }
        }

        #bookinside {
            height: 100%;
            top: 0%;
            left: 0%;
            position: absolute;
            opacity: 0;
            z-index: -1000;
            animation: bookinside 2s;
            animation-delay: 5s;
            animation-fill-mode: forwards;

        }

        @keyframes bookinside {
            0% {
                opacity: 0;

            }

            100% {
                opacity: 1;

            }
        }



        #doodle1 {
            height: 120%;

            right: -10%;
            opacity: 1;
            position: absolute;
            opacity: 0;
            mix-blend-mode: color-burn;
            z-index: -500;
            animation: doodle1 2s infinite;
            animation-delay: 8s;
            animation-fill-mode: forwards;

        }

        @keyframes doodle1 {
            0% {
                opacity: 0.4
            }

            100% {
                opacity: 0.8;

            }
        }

        #doodle2 {
            height: 100%;
            bottom: 0%;
            left: 0%;
            position: absolute;
            opacity: 0;


            mix-blend-mode: hard-light;
            z-index: -500;
            animation: doodle2 2s infinite;
            animation-delay: 8s;
            animation-fill-mode: forwards;

        }

        @keyframes doodle2 {
            0% {
                opacity: 0.4
            }

            100% {
                opacity: 1;

            }
        }


        #move-popup-btn {
            top: 75%;
            left: 23%;
            padding: 10px 20px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            background-color: #c36678;
            color: white;
            border: none;
            border-radius: 5px;
            z-index: 1200;
            display: solid;
            justify-content: center;
            align-items: center;
            font-family: "Gugi", sans-serif;

            position: absolute;
            opacity: 0;
            animation: moveto 3s;
            animation-delay: 45s;
            animation-fill-mode: forwards;

        }

        @keyframes moveto {
            0% {
                opacity: 0;

            }

            100% {
                opacity: 1;

            }

        }
    </style>
</head>

<body>



    <body>



        <div id="synopsis-container">
            <span id="line1" class="synopsis-line">3429년 결국은 망해버린 지구,, </span>
            <span id="line2" class="synopsis-line">지구를 뒤로 하고 새 보금자리, </span>
            <span id="line3" class="synopsis-line">외계행성 woolsey 21-C로의 이사를 </span>
            <span id="line4" class="synopsis-line">결심한다! 지구에서 소중했던 짐들을 </span>
            <span id="line5" class="synopsis-line">울지로 던져 보내는데에 성공하면 </span>
            <span id="line6" class="synopsis-line">이사를 할 수 있을 것이다. </span>
            <span id="line7" class="synopsis-line">하지만 외계행성의 원 주민, </span>
            <span id="line8" class="synopsis-line">외계생명 울지들의 레이더에 </span>
            <span id="line9" class="synopsis-line">걸리면 소중한 짐이 먹혀버릴테니 조심해!</span>
            <span id="line10" class="synopsis-line">과연 난 새 보금자리 울지 행성으로 </span>
            <span id="line11" class="synopsis-line">이사하는데 성공할 수 있을까? </span>
            <span id="line12" class="synopsis-line">나의 짐이 도착한 새 보금자리는 </span>
            <span id="line13" class="synopsis-line">어떤 모습일까?</span>
        </div>


        <img id="doodle1" src="doodle1.png" alt="doodle1">
        <img id="doodle2" src="doodle2.png" alt="doodle2">

        <button id="move-popup-btn">어떤 짐을 가져갈까?</button>

        <audio id="typingSound" src="typing.mp3" preload="auto"></audio>
        <script>

        </script>

    </body>

    <h>
    </h>
    <img id="book1" src="book1.png" alt="book1">
    <img id="book2" src="book2.png" alt="book2">
    <img id="book3" src="book3.png" alt="book3">
    <img id="bookinside" src="bookinside.png" alt="bookinside">

    <script>


        const moveBtn = document.getElementById('move-popup-btn');





        // 오디오 요소를 sound 대신 typingAudio 변수에 저장했습니다.
        const typingAudio = document.getElementById('typingSound');

        let hasInteracted = false; // 사용자의 첫 상호작용 여부를 추적

        // ⭐️ 1. MP3 재생을 시작하는 함수 정의
        function startTypingSound() {
            // 오디오를 재생하고 Promise 오류(자동 재생 차단)를 처리합니다.
            typingAudio.play().catch(error => {
                console.warn("오디오 재생 실패 (브라우저 정책에 의해 차단됨):", error);
            });
        }


        // ⭐️ 2. 첫 상호작용 핸들러 (타이머 시작)
        function handleFirstInteraction() {
            // 이미 상호작용이 처리되었으면 중단
            if (hasInteracted) return;
            hasInteracted = true;

            // #line1의 animation-delay: 8s에 맞춰 8000ms 후에 사운드 재생 타이머 시작
            setTimeout(startTypingSound, 8000);

            // 타이머가 한 번만 시작되도록 이벤트 리스너를 제거합니다.
            document.removeEventListener('click', handleFirstInteraction);
            document.removeEventListener('touchstart', handleFirstInteraction);
        }

        moveBtn.addEventListener('click', () => {
            window.location.href = "introduce2.html";
        })




    </script>


</body>

</html>